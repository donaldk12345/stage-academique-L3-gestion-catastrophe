{% extends 'base.html.twig' %}

{% block title %}Détails  Catastrophe{% endblock %}

{% block body %}
<style>
body{
    background-color: #f5f5f9;
}
.card {
  position: relative;
  display: flex;
  flex-direction: column;
  min-width: 0;
  word-wrap: break-word;
  background-color: #fff;
  background-clip: border-box;
  border: 0 solid #d9dee3;
  border-radius: 0.5rem;
}
.card > hr {
  margin-right: 0;
  margin-left: 0;
}
.card > .list-group {
  border-top: inherit;
  border-bottom: inherit;
}
.card > .list-group:first-child {
  border-top-width: 0;
  border-top-left-radius: 0.5rem;
  border-top-right-radius: 0.5rem;
}
.card > .list-group:last-child {
  border-bottom-width: 0;
  border-bottom-right-radius: 0.5rem;
  border-bottom-left-radius: 0.5rem;
}
.card > .card-header + .list-group,
.card > .list-group + .card-footer {
  border-top: 0;
}

.card-body {
  flex: 1 1 auto;
  padding: 1.5rem 1.5rem;
}

.card-title {
  margin-bottom: 0.875rem;
}

.card-subtitle {
  margin-top: -0.4375rem;
  margin-bottom: 0;
}

.card-text:last-child {
  margin-bottom: 0;
}

.card-link + .card-link {
  margin-left: 1.5rem;
}

.card-header {
  padding: 1.5rem 1.5rem;
  margin-bottom: 0;
  background-color: transparent;
  border-bottom: 0 solid #d9dee3;
}
.card-header:first-child {
  border-radius: 0.5rem 0.5rem 0 0;
}

.card-footer {
  padding: 1.5rem 1.5rem;
  background-color: transparent;
  border-top: 0 solid #d9dee3;
}
.card-footer:last-child {
  border-radius: 0 0 0.5rem 0.5rem;
}

.card-header-tabs {
  margin-right: -0.75rem;
  margin-bottom: -1.5rem;
  margin-left: -0.75rem;
  border-bottom: 0;
}

.card-header-pills {
  margin-right: -0.75rem;
  margin-left: -0.75rem;
}
</style>



<div class="main-wrapper">
   {% include "partials/_header.html.twig" %}
   
   {% include "partials/_sidebar.html.twig" %}

<div class="page-wrapper">
 
<div class="row">
<div class="col-md-10 d-flex m-auto mt-4">

      <div class="card card-table flex-fill">
                     <div class="card-header">
                                 <h4 class="header-title text-center text-muted" style="text-transform:uppercase; font-weight:300;">Details sur Le catastrophe</h4>
                                <div class="list-group">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1" style="font-size:14px;">Nom du catastrophe:&nbsp; <span style="color:#218C74; font-weight:500; font-size:14px;">{{ catastrophe.nomCatastrophe  }}</span> </h5>
                                             
                                            <small style="color:#218C74; font-weight:300;"> {{ catastrophe.createdAt | ago (locale='fr') }}&nbsp;&nbsp; par {{ catastrophe.catastrophe.username}} </small>
                                        </div>
                                         <h4><h6 class="mb-1" style=" font-weight:500; font-size:15px;">Categorie: <span style="color:#218C74;"> {{ catastrophe.categorie.nom  }}</span> </h6>
                                        <h4><h6 class="mb-1" style=" font-weight:500; font-size:15px;">Sous Categorie : <span style="color:#218C74;"> {{ catastrophe.SousCategorie.nom  }}</span> </h6>
                                        <p class="mb-1" style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px">Description:&nbsp; {{ catastrophe.description }} </p>
                                        <small style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px"> Pays :&nbsp;{{ catastrophe.pays }}</small>
                                        <small style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px"> Continent :&nbsp;{{ catastrophe.continent.nom }}</small>
                                         <small style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px"> Localisation:&nbsp;{{ catastrophe.localisation }}</small>
                                         <small style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px"> Cause :&nbsp;{{ catastrophe.causeCatastrophe }}</small>
                                        <small style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px"> Nombres de morts :&nbsp;{{ catastrophe.nombreMort }}</small>
                                         <small style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px"> Nombres de Blèssés :&nbsp;{{ catastrophe.nombreBlesses }}</small>
                                        <small style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px"> Sans abris :&nbsp;{{ catastrophe.sansAbris }}</small>
                                         <small style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px"> Dimenssion :&nbsp;{{ catastrophe.dimension }}&nbsp;Km</small>
                                        <small style="font-weight:500;font-family: 'Poppins', sans-serif; font-size: 14px"> Couts :&nbsp;{{ catastrophe.couts }} &nbsp;&nbsp;FCFA</small>
                                       
                                
                                </div>
                            </div>
      </div>


      

</div>
</div>
 <div class="col-md mt-2 m-auto pb-5">
<div id="carouselExampleControls" class="carousel slide  col-md-10 m-auto" data-bs-ride="carousel">
  <div class="carousel-inner ">
    {%  for image in catastrophe.images %}
        
  
    <div class="carousel-item  {% if loop.first %}active{% endif %}">
      <img src="{{ asset('/uploads/'~image.nom) }}" class="d-block w-100 col-6" alt="..." style="height:60vh;box-shadow: 0 2px 6px rgba(58, 57, 68, 0.2);">
    </div>
      {% endfor %}
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<div class="col-md mt-3" style=" filter: grayscale(70%);">
  <iframe src="https://www.google.com/maps?q={{ catastrophe.latitude }},{{ catastrophe.longitude }}&hl=es;z=14&output=embed"style="width:100%; height:50vh;"></iframe>                
                                
  </div>

<section style="">
  <div class="col-md ">
    <div class="row d-flex justify-content-center">
      <div class="">
        <div class="card">
         <h4 class="fw-bold text-muted mt-2 text-center"> Proposez une Prévention</h4>
        {% for prevention in catastrophe.preventions %}
          
          <div class="card-body">
            <div class="d-flex flex-start align-items-center">
              <img class="rounded-circle shadow-1-strong me-3"
                src="/images/blog/{{  prevention.prevent.imageUser  }}" alt="avatar" width="60"
                height="60" />
              <div>
                <h6 class="fw-bold text-success-light mb-1 text-uppercase">  {{  prevention.prevent.username }}  </h6>
                <p class="text-muted small mb-0">
                  {{ prevention.createdAt| ago (locale='fr') }}
                </p>
              </div>
            </div>
            <h6 class="fw-bold text-muted mt-2">  {{  prevention.titre }}  </h6>
            <p class="mt-1 mb-4 pb-2">
             {{  prevention.description }}
            </p>

          </div>
          {%  endfor %}
          <div class="card-footer py-3 border-0" style="background-color: #fff;">
            <div class="d-flex flex-start w-100">
             
              <div class="form-outline w-100">
                {{ form_start(form) }}
                {{ form_widget(form) }}
                <div class="float-end mt-2 pt-1">
              <button type="submit" class="register btn-sm">Sourmettre</button>
              
                </div>
                {{ form_end(form) }}
              </div>
            </div>
           
            
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
</div>
</div>
</div>
</div>
  

    
{% endblock %}
